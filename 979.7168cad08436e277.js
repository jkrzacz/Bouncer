"use strict";(self.webpackChunkClientAppRCP=self.webpackChunkClientAppRCP||[]).push([[979],{3224:(ho,ve,h)=>{h.r(ve),h.d(ve,{WorkTimePanelsModule:()=>co});var L=h(2233),l=h(1009);class C{constructor(n,e,i,r,s,a,c=[],d,g,p,v,w,E,I=[],F){this.visible=!0,this.allowEditing=!1,this.encodeHtml=!0,this.dataField=n,this.caption=e,this.visible=r,this.alignment=s,this.dataType=i,this.allowEditing=a,this.validationRules=c,this.width=g,this.cellTemplate=d,this.allowFiltering=p,this.allowSorting=v,this.encodeHtml=w,this.type=E,this.buttons=I,this.sortOrder=F}static create(n,e,i,r=!0,s="left",a=!1,c=[],d="",g="100%",p=!0,v=!0,w=!0,E=""){return new C(n,e,i,r,s,a,c,d,g,p,v,w,"",[],E)}static createButtonsColumn(n,e,i=!0,r="center",s="auto"){return new C("",n,"",i,r,!0,void 0,void 0,s,!1,!1,!1,"buttons",e,"")}}var _t=h(2451);const xt=h(4422).o;var t=h(4893),oe=h(4403),vt=h(6805);function Ce(o,n){const e="object"==typeof n;return new Promise((i,r)=>{let a,s=!1;o.subscribe({next:c=>{a=c,s=!0},error:r,complete:()=>{s?i(a):e?i(n.defaultValue):r(new vt.K)}})})}var V=h(520);class we{static generateHttpParams(n){function e(r){return null!=r&&""!==r}let i=new V.LE;return e(n)&&Object.entries(n).forEach(r=>{e(r[1])&&(i=i.set(r[0],JSON.stringify(r[1])))}),i}}const ke=oe.P.defaultServerPath+"api/WorkTimeHistory";let Ct=(()=>{class o{constructor(e){this.http=e}getWorkTimeHistoryAll(e){let i=we.generateHttpParams(e);return Ce(this.http.get(ke,{params:i}))}getWorkTimeHistoryByIdUser(e,i){let r=we.generateHttpParams(i);return Ce(this.http.get(ke+"/"+e,{params:r}))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(V.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var u=h(1759);function wt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"app-time-worker-card-reader",6),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA(),t.qZA()}}function kt(o,n){if(1&o&&(t.TgZ(0,"div",7),t._UZ(1,"app-work-time-grid-template",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("columns",e.columns)("filterValue",e.filterValue)("remoteOperations",!0)}}let Me=(()=>{class o{constructor(e,i,r){this.workTimeHistory=e,this.screenService=i,this.authService=r,this.allowedPageSizes=[5,10,15],this.displayModes=[{text:"Display Mode 'full'",value:"full"},{text:"Display Mode 'compact'",value:"compact"}],this.filterValue=[["startDate","currentMonth"]],this.formatMessage=l.wv,this.showCardScanner=!1,this.dataSource=new xt({store:new _t.Z({key:"workCardId",load:s=>e.getWorkTimeHistoryByIdUser(this.getIdUser(),s).catch(a=>{console.error(a)})})})}ngOnInit(){this.userSession=this.authService.GetUserSession(),this.columns=this.initColumns(),this.onRefreshCallback=this.onRefreshData.bind(this),Number(this.userSession.role)===L.t.idKiosk?this.showCardScanner=!0:this.onRefreshData()}initColumns(){return class ft{constructor(){this.formatMessage=l.wv}static getColumn(n){let e=[];return e.push(C.create("topicNumber",(0,l.wv)("TopicNumber"),"string")),e.push(C.create("topic",(0,l.wv)("Topic"),"string",n)),e.push(C.create("startDate",(0,l.wv)("From"),"datetime",!0,"left",!1,[],"","100%",!0,!0,!0,"desc")),e.push(C.create("endDate",(0,l.wv)("To"),"datetime")),e.push(C.create("time",(0,l.wv)("Time"),"string",n)),e}}.getColumn(!this.screenService.isMobile())}getScannedUser(e){this.userRFID=e,this.showCardScanner=!1,this.onRefreshData()}getIdUser(){let e=0;return e=void 0!==this.userRFID?this.userRFID.id:Number(this.userSession.id),e}onRefreshData(){this.dataSource.reload()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Ct),t.Y36(u.H2),t.Y36(u.e8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:7,vars:5,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-order-history-96.png",3,"title"],[4,"ngIf","ngIfElse"],["showHistory",""],[3,"onRefresh","isRefreshActive"],[1,"text-center","topic-panel"],[3,"userRFID"],[1,"base-card","background-card","unclickable"],[3,"dataSource","columns","filterValue","remoteOperations"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.YNc(3,wt,3,0,"div",2),t.YNc(4,kt,2,4,"ng-template",null,3,t.W1O),t.qZA(),t._UZ(6,"app-time-worker-footer",4),t.qZA()),2&e){const r=t.MAs(5);t.xp6(1),t.s9C("title",i.formatMessage("HistoryImplementationTopic")),t.xp6(2),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r),t.xp6(3),t.Q6J("onRefresh",i.onRefreshCallback)("isRefreshActive",!0)}},styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();var x=h(9808),q=h(7440),m=h(7481),Mt=h(2329),Ot=h(4999),N=h(2492),z=h(6970),Pt=h(4474),P=h(1726),k=h(7074),R=h(6745),T=h(650),Tt=h(4151);const yt=["baseDialog"];let St=(()=>{class o{constructor(e,i,r,s){this.route=e,this.router=i,this.workTimeService=r,this.lastTask=s,this.formatMessage=l.wv,this.isLastTaskMode=!1,this.clickCloseDialog=!1,this.isBlocked=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{var i=decodeURIComponent(escape(atob(e.param)));this.isLastTaskMode=1==JSON.parse(i),this.topic=JSON.parse(i)})}getScannedUser(e){this.isLastTaskMode?this.lastTaskTopicRegister(e):this.workTimeRgister(e,0)}lastTaskTopicRegister(e){this.lastTask.getLastTopic(e.id).subscribe(i=>{if(0===i)(0,m.Z)((0,l.wv)("NoRecentlyActiveTask"),"warning",4e3),setTimeout(()=>{this.router.navi("/work-time")},1e3);else{const r=i;this.baseDialog.onShowDialog("Informacje",`<h2><b>Pracownik:</b> ${r.employee}.<br> <b>Twoje stanowisko:</b> ${null===r.workPlaceName?(0,l.wv)("Missing"):r.workPlaceName}<br><b> Numer tematu:</b> ${r.topicNumber}</h2>`,Mt.y.Info,Ot.S.Close),setTimeout(()=>{this.clickCloseDialog?this.clickCloseDialog=!1:(this.baseDialog.closeDialog(),this.onClickClose(!0))},15e3),this.workTimeRgister(e,r.idTopic,!0)}},i=>{(0,m.Z)((0,l.wv)("CantFindLastTask"),"error",4e3),console.log(i),setTimeout(()=>{this.router.navi("/work-time")},1e3)})}workTimeRgister(e,i,r=!1){const s={id:0,idUser:Number(e.id),login:e.login,idTopic:0==i?this.topic.idTopic:i,startDate:(new Date).toISOString(),endDate:null};this.isBlocked||(this.isBlocked=!0,this.workTimeService.postInsertWorkCard(s).subscribe(a=>{if(0===a.id)return(0,m.Z)(`${(0,l.wv)("UserHasWorkCardInThisTime")}. ${(0,l.wv)("User")}: ${e.name}`,"warning",4e3),void(this.isBlocked=!1);(0,m.Z)(`${(0,l.wv)("InsertWorkCardSuccess")}. ${(0,l.wv)("User")}: ${e.name}`,"success",6e3),r||setTimeout(()=>{this.isBlocked=!1,this.router.navi("/work-time")},1e3)},a=>{(0,m.Z)((0,l.wv)("InsertWorkCardError"),"error",4e3),console.log(a),this.isBlocked=!1}))}onClickClose(e){e&&(this.clickCloseDialog=!0,setTimeout(()=>{this.isBlocked=!1,this.router.navi("/work-time")},500))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(q.gz),t.Y36(N.G),t.Y36(z.gT),t.Y36(Pt.S))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&t.Gf(yt,5),2&e){let r;t.iGM(r=t.CRH())&&(i.baseDialog=r.first)}},inputs:{title:"title",topicNumber:"topicNumber"},decls:8,vars:2,consts:[[1,"page"],["srcImage","../../../assets/images/other/icons8-meeting-time-96.png","srcSubImage","../../../assets/images/other/icons8-keypad-96.png",3,"title","subtext"],[1,"text-center","topic-panel"],[3,"userRFID"],[3,"clickOk"],["baseDialog",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.TgZ(4,"app-time-worker-card-reader",3),t.NdJ("userRFID",function(s){return i.getScannedUser(s)}),t.qZA(),t.qZA(),t.qZA(),t._UZ(5,"app-time-worker-footer"),t.qZA(),t.TgZ(6,"app-base-dialog",4,5),t.NdJ("clickOk",function(s){return i.onClickClose(s)}),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",i.topic.name),t.s9C("subtext",i.topic.topicNumber))},directives:[P.H,k.N,R.I,T.z,Tt.M],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();var W=h(5861),re=h(8503),y=h(2382);function Dt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",7),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("topicNumber",e.topicNumberExtension)}}function Et(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",15),t.O4$(),t.TgZ(2,"svg",16),t._UZ(3,"use",17),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.formatMessage("InvalidOrInactiveTopicNumber")," ")}}function It(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(3,"div",11),t.TgZ(4,"label",12),t._uU(5),t.qZA(),t.TgZ(6,"input",13),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().topicNumber=r}),t.qZA(),t.YNc(7,Et,5,1,"div",14),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(e.formatMessage("EnterSubjectNumber")),t.xp6(1),t.Q6J("ngModel",e.topicNumber),t.xp6(1),t.Q6J("ngIf",e.showAlert)}}let At=(()=>{class o{constructor(e,i,r,s){this.workTimeService=e,this.workTimeTopicService=i,this.router=r,this.authService=s,this.formatMessage=l.wv,this.showAlert=!1,this.showCardScanner=!1,this.showLoad=!1,this.isBlocked=!1}ngOnInit(){var e=this;return(0,W.Z)(function*(){e.userSession=e.authService.GetUserSession(),e.onSubmitCallback=e.onSubmit.bind(e)})()}onSubmit(){var e=this;return(0,W.Z)(function*(){e.showAlert=!1,yield new Promise(i=>setTimeout(i,100)),e.workTimeTopicService.getTopicByNumber(e.topicNumber).subscribe(i=>{e.topic=i,e.validIsKioskType()?(e.topicNumberExtension=(null==i?void 0:i.topicNumber)+" "+(null==i?void 0:i.name),e.showCardScanner=!0):e.insertWorkCard(Number(e.userSession.id),e.userSession.login)},i=>{e.showAlert=!0})})()}validIsKioskType(){return Number(this.userSession.role)===L.t.idKiosk}insertWorkCard(e,i){var r=this;return(0,W.Z)(function*(){r.isBlocked||(r.isBlocked=!0,yield r.workTimeService.postInsertWorkCard(r.createWorkCard(e,i)).subscribe(s=>{if(0===s.id)return(0,m.Z)(`${(0,l.wv)("UserHasWorkCardInThisTime")} ${(0,l.wv)("User")}: ${i}`,"warning",4e3),void(r.isBlocked=!1);(0,m.Z)(`${(0,l.wv)("InsertWorkCardSuccess")} ${(0,l.wv)("User")}: ${i}`,"success",6e3),r.safeNavigation()},s=>{(0,m.Z)((0,l.wv)("InsertWorkCardError"),"error",6e3),console.log(s),r.isBlocked=!1}))})()}safeNavigation(){setTimeout(()=>{this.isBlocked=!1,this.router.navi("/work-time")},500)}createWorkCard(e,i){var r;return{id:0,idUser:e,login:i,idTopic:null===(r=this.topic)||void 0===r?void 0:r.id,startDate:(new Date).toISOString(),endDate:null}}getScannedUser(e){this.insertWorkCard(e.id,e.login)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(z.gT),t.Y36(z.yE),t.Y36(N.G),t.Y36(u.e8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:9,vars:6,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-manual-96.png",3,"title"],[1,"text-center","topic-panel"],[4,"ngIf","ngIfElse"],["showManualMode",""],[3,"onConfirm","isConfirmActive"],[3,"show"],[3,"topicNumber","userRFID"],[1,"base-card","input-card","unclickable"],[1,"card-text","text-center"],[1,"form",3,"keyup.enter"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["role","alert",1,"alert","alert-danger",2,"margin-top","10px"],["width","24","height","24","role","img","aria-label","Danger:",1,"bi","flex-shrink-0","me-2"],[0,"xlink","href","#exclamation-triangle-fill"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.YNc(4,Dt,2,1,"div",3),t.YNc(5,It,8,3,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t._UZ(7,"app-time-worker-footer",5),t.qZA(),t._UZ(8,"app-load-panel",6)),2&e){const r=t.MAs(6);t.xp6(1),t.s9C("title",i.formatMessage("EnterManually")),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r),t.xp6(3),t.Q6J("onConfirm",i.onSubmitCallback)("isConfirmActive",!0),t.xp6(1),t.Q6J("show",i.showLoad)}},directives:[P.H,k.N,x.O5,T.z,re.M,R.I,y.Fj,y.JJ,y.On],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}.input-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}@media (max-width: 570px){.input-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}}"]}),o})();function Rt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",7),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("topicNumber",e.topicNumberExtension)}}function Ft(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",17),t.O4$(),t.TgZ(2,"svg",18),t._UZ(3,"use",19),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(3);t.xp6(4),t.hij(" ",e.formatMessage("InvalidDocumentNumberOrClosedDocument")," ")}}function Lt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw(2).onSubmit()}),t.TgZ(3,"div",13),t.TgZ(4,"label",14),t._uU(5),t.qZA(),t.TgZ(6,"input",15),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).documentNumber=r}),t.qZA(),t.YNc(7,Ft,5,1,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(5),t.Oqu(e.formatMessage("EnterDocumentNumber")),t.xp6(1),t.Q6J("ngModel",e.documentNumber),t.xp6(1),t.Q6J("ngIf",e.showDocumentAlert)}}function Nt(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",17),t.O4$(),t.TgZ(2,"svg",18),t._UZ(3,"use",19),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(3);t.xp6(4),t.hij(" ",e.formatMessage("InvalidOrInactiveTopicNumber")," ")}}function Zt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw(2).onSubmit()}),t.TgZ(3,"div",13),t.TgZ(4,"label",14),t._uU(5),t.qZA(),t.TgZ(6,"input",20),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).topicNumber=r}),t.qZA(),t.YNc(7,Nt,5,1,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(5),t.Oqu(e.formatMessage("EnterSubjectNumber")),t.xp6(1),t.Q6J("ngModel",e.topicNumber),t.xp6(1),t.Q6J("ngIf",e.showTopicAlert)}}function zt(o,n){if(1&o&&(t.YNc(0,Lt,8,3,"div",8),t.YNc(1,Zt,8,3,"ng-template",null,9,t.W1O)),2&o){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.showDocument)("ngIfElse",e)}}let Wt=(()=>{class o{constructor(e,i,r,s){this.workTimeService=e,this.router=i,this.authService=r,this.awmService=s,this.formatMessage=l.wv,this.showLoad=!1,this.showCardScanner=!1,this.showTopicAlert=!1,this.showDocumentAlert=!1,this.showDocument=!0,this.isBlocked=!1}ngOnInit(){this.showLoad=!0,this.onSubmitCallback=this.onSubmit.bind(this),this.userSession=this.authService.GetUserSession(),this.getDocuments()}getDocuments(){this.awmService.getAvailableDocument().subscribe(e=>{this.documents=e,this.showLoad=!1},e=>{this.showLoad=!1,this.router.navi("/work-time"),console.log(e)})}onSubmit(){var e=this;return(0,W.Z)(function*(){e.showTopicAlert=!1,e.showDocumentAlert=!1,yield new Promise(i=>setTimeout(i,100)),e.showDocument?e.validDocument():e.awmService.getMainTopicValid(e.topicNumber).subscribe(i=>{e.mainTopic=i,null!=e.mainTopic&&(e.insertDate=new Date,e.validIsKioskType()?(e.topicNumberExtension=e.topicNumber+" "+e.mainTopic.description,e.showCardScanner=!0):e.insertWorkCard(Number(e.userSession.id),e.userSession.login,e.mainTopic.id))},i=>{e.showTopicAlert=!0,console.log(i)})})()}validDocument(){this.documents.some(e=>e.id===this.documentNumber)?this.showDocument=!1:this.showDocumentAlert=!0}validIsKioskType(){return Number(this.userSession.role)===L.t.idKiosk}createWorkCard(e,i,r){return{id:0,idUser:e,login:i,idTopic:r,startDate:this.insertDate,endDate:null}}createWorkCardAWM(e){return{id_Document:this.documentNumber,id_Pracownika_Officer:e,nr_Tematu_Officer:this.topicNumber,time_Start:this.insertDate,time_End:null}}insertWorkCard(e,i,r){var s=this;return(0,W.Z)(function*(){s.isBlocked||(s.isBlocked=!0,yield s.workTimeService.postInsertWorkCard(s.createWorkCard(e,i,r)).subscribe(a=>{if(0===a.id)return(0,m.Z)(`${(0,l.wv)("UserHasWorkCardInThisTime")} ${(0,l.wv)("User")}: ${i} `,"warning",4e3),void(s.isBlocked=!1);s.awmService.postWorkCard(s.createWorkCardAWM(e)).subscribe(()=>{(0,m.Z)(`${(0,l.wv)("InsertWorkCardSuccess")} ${(0,l.wv)("User")}: ${i} `,"success",4e3),s.safeNavigation()},c=>{(0,m.Z)((0,l.wv)("InsertWorkCardError"),"error",4e3),console.log(c),s.isBlocked=!1})},a=>{(0,m.Z)((0,l.wv)("InsertWorkCardError"),"error",4e3),console.log(a),s.isBlocked=!1}))})()}safeNavigation(){setTimeout(()=>{this.isBlocked=!1,this.router.navi("/work-time")},500)}getScannedUser(e){this.insertWorkCard(e.id,e.login,this.mainTopic.id)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gT),t.Y36(N.G),t.Y36(u.e8),t.Y36(u.e4))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:9,vars:6,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-manual-96.png",3,"title"],[1,"text-center","topic-panel"],[4,"ngIf","ngIfElse"],["showManualMode",""],[3,"onConfirm","isConfirmActive"],[3,"show"],[3,"topicNumber","userRFID"],["class","base-card input-card unclickable",4,"ngIf","ngIfElse"],["showTopic",""],[1,"base-card","input-card","unclickable"],[1,"card-text","text-center"],[1,"form",3,"keyup.enter"],[1,"mb-3"],[1,"form-label"],["type","number","min","0","step","1",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["role","alert",1,"alert","alert-danger",2,"margin-top","10px"],["width","24","height","24","role","img","aria-label","Danger:",1,"bi","flex-shrink-0","me-2"],[0,"xlink","href","#exclamation-triangle-fill"],["type","text",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.YNc(4,Rt,2,1,"div",3),t.YNc(5,zt,3,2,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t._UZ(7,"app-time-worker-footer",5),t.qZA(),t._UZ(8,"app-load-panel",6)),2&e){const r=t.MAs(6);t.xp6(1),t.s9C("title",i.formatMessage("EnterManually")),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r),t.xp6(3),t.Q6J("onConfirm",i.onSubmitCallback)("isConfirmActive",!0),t.xp6(1),t.Q6J("show",i.showLoad)}},directives:[P.H,k.N,x.O5,T.z,re.M,R.I,y.qQ,y.wV,y.Fj,y.JJ,y.On],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}.input-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}@media (max-width: 570px){.input-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}}"]}),o})();const Oe={headers:new V.WM({"Content-Type":"application/json"})},H=oe.P.defaultServerPath+"api/WorkTimeLeaveWorkstation";let Pe=(()=>{class o{constructor(e){this.http=e}getWorkTimeLeaveWorkstation(){return this.http.get(H)}getWorkTimeLeaveWorkstationByUser(e){return this.http.get(H+"/"+e)}getWorkTimeLeaveWorkstationActual(){return this.http.get(H+"/actual")}postWorkTimeLeaveWorkstation(e){return this.http.post(H,e,Oe)}putWorkTimeLeaveWorkstation(e){return this.http.put(H+"/closeLeaveWorkstation?idUser="+e,Oe)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(V.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var J=h(8743);let Ut=(()=>{class o{constructor(e){this.leaveWorkstation=e,this.formatMessage=l.wv}ngOnInit(){this.initColumn(),this.bindRefreshCallback(),this.loadData()}initColumn(){this.column=class Bt{static getColumn(){return[{dataField:"id",caption:"Id",dataType:"number"},{dataField:"employee",caption:(0,l.wv)("Employee"),dataType:"string"},{dataField:"startDate",caption:(0,l.wv)("From"),dataType:"datetime",sortOrder:"desc"},{dataField:"endDate",caption:(0,l.wv)("To"),dataType:"datetime"},{dataField:"time",caption:(0,l.wv)("Time"),dataType:"string"}]}}.getColumn()}bindRefreshCallback(){this.onRefreshCallback=this.onRefreshData.bind(this)}onRefreshData(){this.loadData()}loadData(){this.leaveWorkstation.getWorkTimeLeaveWorkstationActual().subscribe({next:e=>this.timeWorkerLeaveWorkstation=e,error:console.error})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Pe))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:6,vars:5,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-leaving-queue-96.png",3,"title"],[1,"base-card","background-card","unclickable"],[3,"dataSource","columns"],[3,"onRefresh","isRefreshActive"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t._UZ(4,"app-work-time-grid-template",3),t.qZA(),t.qZA(),t._UZ(5,"app-time-worker-footer",4),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",i.formatMessage("PeopleOutsideWorkstation")),t.xp6(3),t.Q6J("dataSource",i.timeWorkerLeaveWorkstation)("columns",i.column),t.xp6(1),t.Q6J("onRefresh",i.onRefreshCallback)("isRefreshActive",!0))},directives:[P.H,k.N,J.w,T.z],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();var Vt=h(4583),Te=h(1672);function Ht(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",5),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}}function Gt(o,n){if(1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2),t._UZ(3,"p"),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.formatMessage("LeaveWork")," "),t.xp6(2),t.AsE(" ",e.formatMessage("User"),": ",e.userSession.login," ")}}let jt=(()=>{class o{constructor(e,i,r,s){this.authService=e,this.router=i,this.activeRoute=r,this.leaveWorkstation=s,this.formatMessage=l.wv,this.isLeave=!1,this.showCardScanner=!1}ngOnInit(){this.userSession=this.authService.GetUserSession(),this.getParamFromRoute(),this.isKioskUser()?this.showCardScanner=!0:this.isLeave?this.insertCard(this.userSession):this.updateCard(Number(this.userSession.id))}getParamFromRoute(){this.activeRoute.queryParams.subscribe(e=>{var i=atob(e.param),r=JSON.parse(i);this.isLeave=Vt.c.Leave==r,this.setComponentValue()})}setComponentValue(){this.title=(0,l.wv)(this.isLeave?"LeaveWorkstation":"BackToWork"),this.imageUrl=this.isLeave?"../../../assets/images/navi/icons8-fire-exit-96.png":"../../../assets/images/navi/icons8-emergency-exit-96.png"}isKioskUser(){return Number(this.userSession.role)===L.t.idKiosk}getScannedUser(e){this.isLeave?this.insertCard(e):this.updateCard(e.id)}insertCard(e){const i={id:0,idUser:Number(e.id),startDate:(new Date).toISOString(),endDate:null};this.leaveWorkstation.postWorkTimeLeaveWorkstation(i).subscribe(()=>{(0,m.Z)((0,l.wv)("InsertLeaveCardSuccesfull"),"info",4e3),this.naviToMainPanel()},r=>{(0,m.Z)((0,l.wv)("InsertLeaveCardError"),"error",4e3),console.log(r)})}updateCard(e){this.leaveWorkstation.putWorkTimeLeaveWorkstation(e).subscribe(()=>{(0,m.Z)((0,l.wv)("UpdateLeaveCardSuccesfull"),"info",4e3),this.naviToMainPanel()},i=>{var r=(0,l.wv)(404===i.status?"UpdateLeaveCardExist":"UpdateLeaveCardError");(0,m.Z)(r,"error",4e3),this.naviToMainPanel(),console.log(i)})}naviToMainPanel(){setTimeout(()=>{this.router.navi("/work-time")},1e3)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Te.e),t.Y36(N.G),t.Y36(q.gz),t.Y36(Pe))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"page"],[3,"title","srcImage"],[1,"text-center","topic-panel"],[4,"ngIf","ngIfElse"],["showWorkLeave",""],[3,"userRFID"],[1,"base-card","info-card"],[1,"card-text","text-center"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.YNc(4,Ht,2,0,"div",3),t.YNc(5,Gt,5,3,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t._UZ(7,"app-time-worker-footer"),t.qZA()),2&e){const r=t.MAs(6);t.xp6(1),t.s9C("title",i.title),t.s9C("srcImage",i.imageUrl),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r)}},directives:[P.H,k.N,x.O5,T.z,R.I],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})(),Kt=(()=>{class o{constructor(e,i){this.breakService=e,this.authService=i,this.formatMessage=l.wv}ngOnInit(){this.userSession=this.authService.GetUserSession(),this.columns=this.initColumns(),this.onRefreshCallback=this.onRefreshData.bind(this),this.getWorkTimeBreaks()}initColumns(){return class Yt{constructor(){this.formatMessage=l.wv}static getColumn(){return this.columns=[{dataField:"id",caption:"Id",dataType:"number",visible:!1},{dataField:"nameUser",caption:(0,l.wv)("Employee"),dataType:"string"},{dataField:"startDate",caption:(0,l.wv)("From"),dataType:"datetime",sortOrder:"desc"},{dataField:"time",caption:(0,l.wv)("Time"),dataType:"string"}],this.columns}}.getColumn()}getWorkTimeBreaks(){this.breakService.getPreviewBreakByDepartment(Number(this.userSession.idDepartment)).subscribe(e=>{this.timeWorkerBreaks=e,console.log(e)},e=>{console.error(e)})}onRefreshData(){this.getWorkTimeBreaks()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.rf),t.Y36(Te.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:7,vars:5,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-analyze-96.png",3,"title"],[1,"text-center","topic-panel"],[1,"base-card","background-card","unclickable"],[3,"dataSource","columns"],[3,"onRefresh","isRefreshActive"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t._UZ(5,"app-work-time-grid-template",4),t.qZA(),t.qZA(),t.qZA(),t._UZ(6,"app-time-worker-footer",5),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",i.formatMessage("TooltipBreakPreview")),t.xp6(4),t.Q6J("dataSource",i.timeWorkerBreaks)("columns",i.columns),t.xp6(1),t.Q6J("onRefresh",i.onRefreshCallback)("isRefreshActive",!0))},directives:[P.H,k.N,J.w,T.z],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();function qt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",5),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}}function Jt(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",9),t.O4$(),t.TgZ(2,"svg",10),t._UZ(3,"use"),t.qZA(),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Tol(e.alertMode.alertClass),t.xp6(1),t.Tol(e.alertMode.svgClass),t.uIk("aria-label",e.alertMode.ariaLabel),t.xp6(1),t.uIk("href",e.alertMode.xLink,null,"xlink"),t.xp6(1),t.hij(" ",e.alertMode.message," ")}}function Qt(o,n){if(1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2),t._UZ(3,"p"),t._uU(4),t.YNc(5,Jt,5,9,"div",8),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.formatMessage("FinishWorked")," "),t.xp6(2),t.AsE(" ",e.formatMessage("User"),": ",e.loginUser," "),t.xp6(1),t.Q6J("ngIf",void 0!==e.alertMode)}}let $t=(()=>{class o{constructor(e,i,r){this.authService=e,this.workTimeService=i,this.router=r,this.formatMessage=l.wv,this.showCardScanner=!1}ngOnInit(){var e=this;return(0,W.Z)(function*(){e.userSession=e.authService.GetUserSession(),Number(e.userSession.role)===L.t.idKiosk?e.showCardScanner=!0:(e.loginUser=e.userSession.login,e.SaveFinishWork(Number(e.userSession.id),e.userSession.name))})()}SaveFinishWork(e,i){this.workTimeService.putCloseWorkCard(e).subscribe(()=>{var r=(0,l.wv)("SuccesFinishWorkCardSave");(0,m.Z)(`${r}  ${(0,l.wv)("User")}: ${i}`,"info",4e3),this.alertMode={alertClass:"alert alert-success d-flex align-items-center",svgClass:"bi flex-shrink-0 me-2",ariaLabel:"Success:",xLink:"#check-circle-fill",message:r},this.naviToMainPanel()},r=>{var s=(0,l.wv)(404===r.status?"CantSaveFinishWorkCard":"ErrorFinishWorkCardSave");(0,m.Z)(s,"error",4e3),this.alertMode={alertClass:"alert alert-danger d-flex align-items-center",svgClass:"bi flex-shrink-0 me-2",ariaLabel:"Danger:",xLink:"#exclamation-triangle-fill",message:s},this.naviToMainPanel(),console.log(r)})}naviToMainPanel(){setTimeout(()=>{this.router.navi("/work-time")},1e3)}getScannedUser(e){this.SaveFinishWork(e.id,e.name)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.e8),t.Y36(z.gT),t.Y36(N.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-finish-flag-96.png",3,"title"],[1,"text-center","topic-panel"],[4,"ngIf","ngIfElse"],["showFinishMode",""],[3,"userRFID"],[1,"base-card","info-card","unclickable"],[1,"card-text","text-center"],[4,"ngIf"],["role","alert",2,"margin-top","10px"],["width","24","height","24","role","img"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.YNc(4,qt,2,0,"div",3),t.YNc(5,Qt,6,4,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t._UZ(7,"app-time-worker-footer"),t.qZA()),2&e){const r=t.MAs(6);t.xp6(1),t.s9C("title",i.formatMessage("FinishWork")),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r)}},directives:[P.H,k.N,x.O5,T.z,R.I],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();var se=h(2367),Xt=h(3852),ye=h(5369);class Se{constructor(){this.formatMessage=l.wv}static getGroupColumn(n){let e=[];return e.push(C.create("id",(0,l.wv)("Id"),"string",n)),e.push(C.create("name",(0,l.wv)("Name"),"string")),e.push(C.create("status",(0,l.wv)("Status"),"number",!1)),e.push(C.create("picture",(0,l.wv)("Status"),"string",n,"center",!1,[],"cellTemplate","50")),e}static getTopicColumn(n){let e=[];return e.push(C.create("id",(0,l.wv)("Id"),"string",n)),e.push(C.create("topicNumber",(0,l.wv)("Topic"),"string")),e.push(C.create("name",(0,l.wv)("Name"),"string")),e.push(C.create("status",(0,l.wv)("Status"),"number",!1)),e.push(C.create("picture",(0,l.wv)("Status"),"string",n,"center",!1,[],"cellTemplate","50")),e}}var ae=h(4564),ce=h(5867),f=h(9106),S=h(4943);const en=["grid"];function tn(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"b"),t.TgZ(2,"h2"),t._UZ(3,"img",2),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.formatMessage("Deleting")," ")}}function nn(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",17),t._uU(2),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.formatMessage("Groups")," ")}}function on(o,n){if(1&o&&(t._UZ(0,"img",18),t._uU(1)),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.formatMessage("Topics")," ")}}function rn(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",27),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.s9C("src",e.value,t.LSH)}}const sn=function(o){return["status","=",o]};function an(o,n){if(1&o&&(t.TgZ(0,"div",21),t.TgZ(1,"dx-data-grid",22),t._UZ(2,"dxo-filter-row",23),t._UZ(3,"dxo-paging",24),t._UZ(4,"dxo-row-dragging",25),t._UZ(5,"dxo-scrolling",26),t.YNc(6,rn,2,1,"div",1),t.qZA(),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("dataSource",i.dataSource)("height",460)("allowColumnReordering",!0)("allowColumnResizing",!0)("columns",i.groupMode?i.groupColumn:i.topicColumn)("showBorders",!0)("filterValue",t.VKq(16,sn,e))("showRowLines",!0)("rowAlternationEnabled",!0),t.xp6(1),t.Q6J("visible",!0)("applyFilter",!0),t.xp6(1),t.Q6J("enabled",!0)("pageSize",10),t.xp6(1),t.Q6J("data",e)("onAdd",i.onAdd),t.xp6(2),t.Q6J("dxTemplateOf","cellTemplate")}}function cn(o,n){if(1&o&&(t.TgZ(0,"div",19),t.YNc(1,an,7,18,"div",20),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.statuses)}}function ln(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",27),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.s9C("src",e.value,t.LSH)}}function dn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"dx-data-grid",28,29),t.NdJ("onSelectionChanged",function(r){return t.CHM(e),t.oxw(2).onRowSelected(r)}),t._UZ(2,"dxo-selection",30),t.YNc(3,ln,2,1,"div",1),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("dataSource",e.dataSource)("allowColumnReordering",!0)("allowColumnResizing",!0)("columns",e.groupMode?e.groupColumn:e.topicColumn)("showBorders",!0)("showRowLines",!0),t.xp6(3),t.Q6J("dxTemplateOf","cellTemplate")}}function hn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"dx-scroll-view",3),t.TgZ(2,"fieldset",4),t.TgZ(3,"legend",5),t.TgZ(4,"h3"),t.YNc(5,nn,3,1,"div",6),t.YNc(6,on,2,1,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.YNc(9,cn,2,1,"div",9),t.YNc(10,dn,4,7,"ng-template",null,10,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"dxi-toolbar-item",11),t.TgZ(13,"div",12),t._UZ(14,"hr"),t.TgZ(15,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDelete()}),t._UZ(16,"i",14),t._uU(17),t.qZA(),t.TgZ(18,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancelClick()}),t._UZ(19,"i",16),t._uU(20),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(7),i=t.MAs(11),r=t.oxw();t.xp6(5),t.Q6J("ngIf",r.groupMode)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",r.isDesktop())("ngIfElse",i),t.xp6(8),t.hij(" ",r.formatMessage("Delete")," "),t.xp6(3),t.hij(" ",r.formatMessage("Cancel")," ")}}let gn=(()=>{class o{constructor(e,i,r){this.zone=e,this.topicService=i,this.screenService=r,this.formatMessage=l.wv,this.showDialog=!1,this.goodStatus="assets/images/color-image/icons8-done-64.png",this.badStatus="assets/images/color-image/icons8-close-64.png",this.groupMode=!0,this.groupColumn=Se.getGroupColumn(this.isDesktop()),this.topicColumn=Se.getTopicColumn(this.isDesktop()),this.successDelete=new t.vpe}ngOnInit(){this.statuses=[1,2],this.onAdd=this.onAdd.bind(this)}onAdd(e){const i=e.itemData.id,r={status:e.toData};this.groupMode?this.workTimeTopicGroup.forEach(s=>{s.id===i&&(s.status=r.status,s.picture=1===s.status?this.goodStatus:this.badStatus)}):this.workTimeAvailableTopic.forEach(s=>{s.id===i&&(s.status=r.status,s.picture=1===s.status?this.goodStatus:this.badStatus)}),this.zone.run(()=>this.setDataSource())}onClear(){this.dataSource=null,this.workTimeTopicGroup=[],this.workTimeAvailableTopic=[]}onCancelClick(){this.onClear(),this.showDialog=!1}onShow(e,i){this.groupMode=e,this.showDialog=!0,this.groupMode?(this.workTimeTopicGroup=i,this.fillTopicGroup(),this.zone.run(()=>this.setDataSource())):(this.workTimeAvailableTopic=i,this.fillAvailableTopic(),this.zone.run(()=>this.setDataSource()))}fillTopicGroup(){this.workTimeTopicGroup.forEach(e=>{e.status=1,e.picture=this.goodStatus})}fillAvailableTopic(){this.workTimeAvailableTopic.forEach(e=>{e.status=1,e.picture=this.goodStatus})}setDataSource(){this.dataSource=this.groupMode?{store:this.workTimeTopicGroup,reshapeOnPush:!0}:{store:this.workTimeAvailableTopic,reshapeOnPush:!0}}onCancel(){this.showDialog=!1,this.onClear()}onDelete(){this.groupMode?this.topicService.deleteGroupTopic(this.workTimeTopicGroup.filter(e=>2===e.status)).subscribe(()=>{this.successSaveMessage(),setTimeout(()=>{this.showDialog=!1},500)},e=>{this.errorMessage(),console.log(e)}):this.topicService.deleteAvailableTopic(this.workTimeAvailableTopic.filter(e=>2===e.status)).subscribe(()=>{this.successSaveMessage(),setTimeout(()=>{this.showDialog=!1},500)},e=>{this.errorMessage(),console.log(e)})}successSaveMessage(){(0,m.Z)((0,l.wv)("ChangeSaved"),"success",4e3),this.successDelete.emit(!0)}errorMessage(){(0,m.Z)((0,l.wv)("ErrorSaved"),"error",4e3)}onRowSelected(e){const i=e.currentSelectedRowKeys,r=e.currentDeselectedRowKeys;i.length>0?i.forEach(s=>{s.status=2}):r.forEach(s=>{s.status=1}),this.dataGrid.instance.refresh()}isDesktop(){return!this.screenService.isMobile()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.R0b),t.Y36(u.yE),t.Y36(u.H2))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-time-settings-delete-group-and-topic"]],viewQuery:function(e,i){if(1&e&&t.Gf(en,5),2&e){let r;t.iGM(r=t.CRH())&&(i.dataGrid=r.first)}},outputs:{successDelete:"successDelete"},decls:3,vars:11,consts:[["width","90%","minHeight","590","titleTemplate","title","container",".dx-viewport","position","center",3,"showTitle","dragEnabled","showCloseButton","closeOnOutsideClick","deferRendering","disabled","resizeEnabled","visible"],[4,"dxTemplate","dxTemplateOf"],["src","assets/images/color-image/icons8-trash-64.png","width","46"],["height","85%","width","100%"],[1,"border","p-2l"],[1,"float-none","w-auto"],[4,"ngIf","ngIfElse"],["topicMode",""],[1,"control-group"],["class","tables",4,"ngIf","ngIfElse"],["mobileGrid",""],["widget","dxButton","toolbar","bottom","location","before",2,"text-align","right"],[1,"col","text-right",2,"background","white"],["type","button",1,"btn","btn-danger","btn-dang",3,"click"],[1,"bi","bi-trash-fill"],["type","button",1,"btn","btn-secondary","btn-second",3,"click"],[1,"bi","bi-x-circle"],["src","assets/images/color-image/icons8-alphabetical-sorting-64.png","width","32"],["src","assets/images/color-image/icons8-outline-64.png","width","32"],[1,"tables"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[3,"dataSource","height","allowColumnReordering","allowColumnResizing","columns","showBorders","filterValue","showRowLines","rowAlternationEnabled"],[3,"visible","applyFilter"],[3,"enabled","pageSize"],["group","tasksGroup",3,"data","onAdd"],["mode","virtual"],["width","28",3,"src"],[3,"dataSource","allowColumnReordering","allowColumnResizing","columns","showBorders","showRowLines","onSelectionChanged"],["grid",""],["selectAllMode","allPages","showCheckBoxesMode","always","mode","multiple"]],template:function(e,i){1&e&&(t.TgZ(0,"dx-popup",0),t.YNc(1,tn,5,1,"div",1),t.YNc(2,hn,21,6,"div",1),t.qZA()),2&e&&(t.Q6J("showTitle",!0)("dragEnabled",!0)("showCloseButton",!0)("closeOnOutsideClick",!1)("deferRendering",!0)("disabled",!1)("showCloseButton",!1)("resizeEnabled",!0)("visible",i.showDialog),t.xp6(1),t.Q6J("dxTemplateOf","title"),t.xp6(1),t.Q6J("dxTemplateOf","content"))},directives:[ae.x,f.p6,k.N,x.O5,S.QjJ,x.sg,ce.e,S.I62,S.sXh,S.CRh,S.PXJ,S.Lz9],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}.tables[_ngcontent-%COMP%]{display:flex}fieldset[_ngcontent-%COMP%]{margin:10px;padding:10px}legend[_ngcontent-%COMP%]{margin-left:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%]{margin-right:10px}.column[_ngcontent-%COMP%]:first-child{width:50%;padding-right:15px}.column[_ngcontent-%COMP%]:last-child{width:50%;padding-left:15px}@media (max-width: 800px){fieldset[_ngcontent-%COMP%]{margin:2px;padding:2px}.dx-popup-content[_ngcontent-%COMP%]{padding:5px!important}}"]}),o})();var pn=h(2864),M=h(925),_=h(3191),b=h(7579),B=h(727),Sn=h(7445),Ae=h(4408);const G={schedule(o){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=G;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(s=>{e=void 0,o(s)});return new B.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...o){const{delegate:n}=G;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...o)},cancelAnimationFrame(...o){const{delegate:n}=G;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...o)},delegate:void 0};var Re=h(640);const Fe=new class En extends Re.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;n=n||e.shift();const s=e.length;do{if(i=n.execute(n.state,n.delay))break}while(++r<s&&(n=e.shift()));if(this._active=!1,i){for(;++r<s&&(n=e.shift());)n.unsubscribe();throw i}}}(class Dn extends Ae.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=G.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(G.cancelAnimationFrame(e),n._scheduled=void 0)}});var le=h(8306),Le=h(6451),Q=h(2722),de=h(8675),In=h(4004),Ne=h(5698),An=h(8505),Rn=h(3900),Fn=h(9646),Ln=h(4968);let he,Nn=1;const $={};function Ze(o){return o in $&&(delete $[o],!0)}const Zn={setImmediate(o){const n=Nn++;return $[n]=!0,he||(he=Promise.resolve()),he.then(()=>Ze(n)&&o()),n},clearImmediate(o){Ze(o)}},{setImmediate:zn,clearImmediate:Wn}=Zn,X={setImmediate(...o){const{delegate:n}=X;return((null==n?void 0:n.setImmediate)||zn)(...o)},clearImmediate(o){const{delegate:n}=X;return((null==n?void 0:n.clearImmediate)||Wn)(o)},delegate:void 0};new class Un extends Re.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;n=n||e.shift();const s=e.length;do{if(i=n.execute(n.state,n.delay))break}while(++r<s&&(n=e.shift()));if(this._active=!1,i){for(;++r<s&&(n=e.shift());)n.unsubscribe();throw i}}}(class Bn extends Ae.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=X.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);0===n.actions.length&&(X.clearImmediate(e),n._scheduled=void 0)}});var Hn=h(4986),Gn=h(4482),jn=h(8421),ze=h(5403),Kn=h(5963);function We(o,n=Hn.P){return function Yn(o){return(0,Gn.e)((n,e)=>{let i=!1,r=null,s=null,a=!1;const c=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const g=r;r=null,e.next(g)}a&&e.complete()},d=()=>{s=null,a&&e.complete()};n.subscribe(new ze.Q(e,g=>{i=!0,r=g,s||(0,jn.Xf)(o(g)).subscribe(s=new ze.Q(e,c,d))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>(0,Kn.H)(o,n))}var qn=h(9300);let Qn=(()=>{class o{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new le.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(We(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Fn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,qn.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=(0,_.fI)(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,Ln.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(t.R0b),t.LFG(M.t4),t.LFG(x.K0,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Xn=(()=>{class o{constructor(e,i,r){this._platform=e,this._change=new b.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(We(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(M.t4),t.LFG(t.R0b),t.LFG(x.K0,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ei=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})();const ti=new t.OlP("cdk-dir-doc",{providedIn:"root",factory:function ni(){return(0,t.f3M)(x.K0)}});let Be=(()=>{class o{constructor(e){if(this.value="ltr",this.change=new t.vpe,e){const r=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ti,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ge(o,n,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];r?o.setProperty(i,r,(null==e?void 0:e.has(i))?"important":""):o.removeProperty(i)}return o}function U(o,n){const e=n?"":"none";ge(o.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Ue(o,n,e){ge(o.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function ee(o,n){return n&&"none"!=n?o+" "+n:o}function Ve(o){const n=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*n}function pe(o,n){return o.getPropertyValue(n).split(",").map(i=>i.trim())}function ue(o){const n=o.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function me(o,n,e){const{top:i,bottom:r,left:s,right:a}=o;return e>=i&&e<=r&&n>=s&&n<=a}function j(o,n,e){o.top+=n,o.bottom=o.top+o.height,o.left+=e,o.right=o.left+o.width}function He(o,n,e,i){const{top:r,right:s,bottom:a,left:c,width:d,height:g}=o,p=d*n,v=g*n;return i>r-v&&i<a+v&&e>c-p&&e<s+p}class Ge{constructor(n,e){this._document=n,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:ue(e)})})}handleScroll(n){const e=(0,M.sA)(n),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,a;if(e===this._document){const g=this._viewportRuler.getViewportScrollPosition();s=g.top,a=g.left}else s=e.scrollTop,a=e.scrollLeft;const c=r.top-s,d=r.left-a;return this.positions.forEach((g,p)=>{g.clientRect&&e!==p&&e.contains(p)&&j(g.clientRect,c,d)}),r.top=s,r.left=a,{top:c,left:d}}}function je(o){const n=o.cloneNode(!0),e=n.querySelectorAll("[id]"),i=o.nodeName.toLowerCase();n.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?qe(o,n):("input"===i||"select"===i||"textarea"===i)&&Ke(o,n),Ye("canvas",o,n,qe),Ye("input, textarea, select",o,n,Ke),n}function Ye(o,n,e,i){const r=n.querySelectorAll(o);if(r.length){const s=e.querySelectorAll(o);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let oi=0;function Ke(o,n){"file"!==n.type&&(n.value=o.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${oi++}`)}function qe(o,n){const e=n.getContext("2d");if(e)try{e.drawImage(o,0,0)}catch(i){}}const Je=(0,M.i$)({passive:!0}),Qe=(0,M.i$)({passive:!1}),fe=new Set(["position"]);class si{constructor(n,e,i,r,s,a){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new b.x,this._pointerMoveSubscription=B.w0.EMPTY,this._pointerUpSubscription=B.w0.EMPTY,this._scrollSubscription=B.w0.EMPTY,this._resizeSubscription=B.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new b.x,this.started=new b.x,this.released=new b.x,this.ended=new b.x,this.entered=new b.x,this.exited=new b.x,this.dropped=new b.x,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._handles.find(g=>c.target&&(c.target===g||g.contains(c.target)));d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const E=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),I=this._dropContainer;if(!E)return void this._endDragSequence(c);(!I||!I.isDragging()&&!I.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),c.preventDefault();const g=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,d);else{const p=this._activeTransform;p.x=g.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=g.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:c,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Ge(i,s),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=(0,_.Ig)(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>U(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>(0,_.fI)(i)),this._handles.forEach(i=>U(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=(0,_.fI)(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Qe),e.addEventListener("touchstart",this._pointerDown,Je)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?(0,_.fI)(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(n=this._rootElement)||void 0===n||n.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),U(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),U(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,e;null===(n=this._preview)||void 0===n||n.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,e;null===(n=this._placeholder)||void 0===n||n.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Y(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();r.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Ue(i,!1,fe),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,c).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Y(e),s=!r&&0!==e.button,a=this._rootElement,c=(0,M.sA)(e),d=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=r?function Tn(o){const n=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(e):function Pn(o){return 0===o.offsetX&&0===o.offsetY}(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||d||g)return;if(this._handles.length){const w=a.style;this._rootElementTapHighlight=w.webkitTapHighlightColor||"",w.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(w=>this._updateOnScroll(w)),this._boundaryElement&&(this._boundaryRect=ue(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,e);const v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){Ue(this._rootElement,!0,fe),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(n),s=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:r}),e.drop(this,i,this._initialIndex,this._initialContainer,a,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,i=n?n.template:null;let r;if(i&&n){const s=n.matchSize?this._rootElement.getBoundingClientRect():null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),r=Xe(a,this._document),this._previewRef=a,n.matchSize?et(r,s):r.style.transform=te(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;r=je(s),et(r,s.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return ge(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},fe),U(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function ii(o){const n=getComputedStyle(o),e=pe(n,"transition-property"),i=e.find(c=>"transform"===c||"all"===c);if(!i)return 0;const r=e.indexOf(i),s=pe(n,"transition-duration"),a=pe(n,"transition-delay");return Ve(s[r])+Ve(a[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=a=>{var c;(!a||(0,M.sA)(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=Xe(this._placeholderRef,this._document)):i=je(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e){const i=this._rootElement.getBoundingClientRect(),r=n===this._rootElement?null:n,s=r?r.getBoundingClientRect():i,a=Y(e)?e.targetTouches[0]:e,c=this._getViewportScrollPosition();return{x:s.left-i.left+(a.pageX-s.left-c.left),y:s.top-i.top+(a.pageY-s.top-c.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),i=Y(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=r,c.y=s,c.matrixTransform(a.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,c=this._boundaryRect,d=this._previewRect,g=c.top+a,p=c.bottom-(d.height-a);i=$e(i,c.left+s,c.right-(d.width-s)),r=$e(r,g,p)}return{x:i,y:r}}_updatePointerDirectionDelta(n){const{x:e,y:i}=n,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-s.x),c=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),c>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,U(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Qe),n.removeEventListener("touchstart",this._pointerDown,Je)}_applyRootElementTransform(n,e){const i=te(n,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=ee(i,this._initialTransform)}_applyPreviewTransform(n,e){var i;const r=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=te(n,e);this._preview.style.transform=ee(s,r)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,a=r.right-i.right,c=i.top-r.top,d=r.bottom-i.bottom;i.width>r.width?(s>0&&(n+=s),a>0&&(n-=a)):n=0,i.height>r.height?(c>0&&(e+=c),d>0&&(e-=d)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:Y(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const i=(0,M.sA)(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&j(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const n=this._parentPositions.positions.get(this._document);return n?n.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,M.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,_.fI)(i)}}function te(o,n){return`translate3d(${Math.round(o)}px, ${Math.round(n)}px, 0)`}function $e(o,n,e){return Math.max(n,Math.min(e,o))}function Y(o){return"t"===o.type[0]}function Xe(o,n){const e=o.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const i=n.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function et(o,n){o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.transform=te(n.left,n.top)}function K(o,n){return Math.max(0,Math.min(n,o))}class ci{constructor(n,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new b.x,this.entered=new b.x,this.exited=new b.x,this.dropped=new b.x,this.sorted=new b.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=B.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new b.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Sn.F)(0,Fe).pipe((0,Q.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=(0,_.fI)(n),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Ge(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,r){let s;this._draggingStarted(),null==r?(s=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(n,e,i))):s=r;const a=this._activeDraggables,c=a.indexOf(n),d=n.getPlaceholderElement();let g=a[s];if(g===n&&(g=a[s+1]),c>-1&&a.splice(c,1),g&&!this._dragDropRegistry.isDragging(g)){const p=g.getRootElement();p.parentElement.insertBefore(d,p),a.splice(s,0,n)}else if(this._shouldEnterAsFirstChild(e,i)){const p=a[0].getRootElement();p.parentNode.insertBefore(d,p),a.unshift(n)}else(0,_.fI)(this.element).appendChild(d),a.push(n);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,r,s,a,c){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:a,dropPoint:c})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===n.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const e=(0,_.fI)(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,r){if(this.sortingDisabled||!this._clientRect||!He(this._clientRect,.05,e,i))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,i,r);if(-1===a&&s.length>0)return;const c="horizontal"===this._orientation,d=s.findIndex(O=>O.drag===n),g=s[a],v=g.clientRect,w=d>a?1:-1,E=this._getItemOffsetPx(s[d].clientRect,v,w),I=this._getSiblingOffsetPx(d,s,w),F=s.slice();(function ai(o,n,e){const i=K(n,o.length-1),r=K(e,o.length-1);if(i===r)return;const s=o[i],a=r<i?-1:1;for(let c=i;c!==r;c+=a)o[c]=o[c+a];o[r]=s})(s,d,a),this.sorted.next({previousIndex:d,currentIndex:a,container:this,item:n}),s.forEach((O,lo)=>{if(F[lo]===O)return;const ut=O.drag===n,xe=ut?E:I,mt=ut?n.getPlaceholderElement():O.drag.getRootElement();O.offset+=xe,c?(mt.style.transform=ee(`translate3d(${Math.round(O.offset)}px, 0, 0)`,O.initialTransform),j(O.clientRect,0,xe)):(mt.style.transform=ee(`translate3d(0, ${Math.round(O.offset)}px, 0)`,O.initialTransform),j(O.clientRect,xe,0))}),this._previousSwap.overlaps=me(v,e,i),this._previousSwap.drag=g.drag,this._previousSwap.delta=c?r.x:r.y}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||i||He(a.clientRect,.05,n,e)&&([r,s]=function li(o,n,e,i){const r=it(n,i),s=ot(n,e);let a=0,c=0;if(r){const d=o.scrollTop;1===r?d>0&&(a=1):o.scrollHeight-d>o.clientHeight&&(a=2)}if(s){const d=o.scrollLeft;1===s?d>0&&(c=1):o.scrollWidth-d>o.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,n,e),(r||s)&&(i=c))}),!r&&!s){const{width:a,height:c}=this._viewportRuler.getViewportSize(),d={width:a,height:c,top:0,right:a,bottom:c,left:0};r=it(d,e),s=ot(d,n),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=(0,_.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=(0,_.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:ue(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const n=(0,_.fI)(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const r=e.getRootElement();if(r){const s=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;r.style.transform=s||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,e,i){const r="horizontal"===this._orientation,s=e[n].clientRect,a=e[n+-1*i];let c=s[r?"width":"height"]*i;if(a){const d=r?"left":"top",g=r?"right":"bottom";-1===i?c-=a.clientRect[d]-s[g]:c+=s[d]-a.clientRect[g]}return c}_getItemOffsetPx(n,e,i){const r="horizontal"===this._orientation;let s=r?e.left-n.left:e.top-n.top;return-1===i&&(s+=r?e.width-n.width:e.height-n.height),s}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return r?n>=a.right:e>=a.bottom}{const a=i[0].clientRect;return r?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,i,r){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:d})=>{if(c===n)return!1;if(r){const g=s?r.x:r.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return s?e>=Math.floor(d.left)&&e<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom)});return-1!==a&&this.sortPredicate(a,n,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,e){return null!=this._clientRect&&me(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(r=>r._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._clientRect||!me(this._clientRect,e,i)||!this.enterPredicate(n,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=(0,_.fI)(this.element);return r===s||s.contains(r)}_startReceiving(n,e){const i=this._activeSiblings;!i.has(n)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&(this._itemPositions.forEach(({clientRect:i})=>{j(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=(0,M.kV)((0,_.fI)(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function it(o,n){const{top:e,bottom:i,height:r}=o,s=.05*r;return n>=e-s&&n<=e+s?1:n>=i-s&&n<=i+s?2:0}function ot(o,n){const{left:e,right:i,width:r}=o,s=.05*r;return n>=e-s&&n<=e+s?1:n>=i-s&&n<=i+s?2:0}const ne=(0,M.i$)({passive:!1,capture:!0});let di=(()=>{class o{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new b.x,this.pointerUp=new b.x,this.scroll=new b.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ne)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ne)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ne}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:ne}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new le.y(r=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&r.next(c)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),(0,Le.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(t.R0b),t.LFG(x.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const hi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let _e=(()=>{class o{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=hi){return new si(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new ci(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.K0),t.LFG(t.R0b),t.LFG(Xn),t.LFG(di))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rt=new t.OlP("CDK_DRAG_PARENT"),be=new t.OlP("CdkDropListGroup");let gi=(()=>{class o{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,_.Ig)(e)}ngOnDestroy(){this._items.clear()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[t._Bn([{provide:be,useExisting:o}])]}),o})();const st=new t.OlP("CDK_DRAG_CONFIG");let pi=0;const at=new t.OlP("CdkDropList");let ui=(()=>{class o{constructor(e,i,r,s,a,c,d){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=a,this._group=c,this._destroyed=new b.x,this.connectedTo=[],this.id="cdk-drop-list-"+pi++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,d&&this._assignDefaults(d),this._dropListRef.enterPredicate=(g,p)=>this.enterPredicate(g.data,p.data),this._dropListRef.sortPredicate=(g,p,v)=>this.sortPredicate(g,p.data,v.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),o._dropLists.push(this),c&&c._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,_.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=o._dropLists.indexOf(this);e>-1&&o._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,de.O)(this._dir.value),(0,Q.R)(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=(0,_.Eq)(this.connectedTo).map(r=>"string"==typeof r?o._dropLists.find(a=>a.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,_.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,_.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,_.su)(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:c}=e;this.disabled=null!=r&&r,this.sortingDisabled=null!=s&&s,this.autoScrollDisabled=null!=a&&a,this.orientation=c||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return o._dropLists=[],o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(_e),t.Y36(t.sBO),t.Y36(Qn),t.Y36(Be,8),t.Y36(be,12),t.Y36(st,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(t.uIk("id",i.id),t.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:be,useValue:void 0},{provide:at,useExisting:o}])]}),o})();const ct=new t.OlP("CdkDragHandle"),lt=new t.OlP("CdkDragPlaceholder");let mi=(()=>{class o{constructor(e){this.templateRef=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc))},o.\u0275dir=t.lG2({type:o,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[t._Bn([{provide:lt,useExisting:o}])]}),o})();const fi=new t.OlP("CdkDragPreview");let bi=(()=>{class o{constructor(e,i,r,s,a,c,d,g,p,v,w){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=d,this._changeDetectorRef=p,this._selfHandle=v,this._parentDrag=w,this._destroyed=new b.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new le.y(E=>{const I=this._dragRef.moved.pipe((0,In.U)(F=>({source:this,pointerPosition:F.pointerPosition,event:F.event,delta:F.delta,distance:F.distance}))).subscribe(E);return()=>{I.unsubscribe()}}),this._dragRef=g.createDrag(e,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,o._dragInstances.push(this),c&&this._assignDefaults(c),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,_.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ne.q)(1),(0,Q.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=o._dragInstances.indexOf(this);e>-1&&o._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(e=i.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,_.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:(0,_.su)(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe((0,Ne.q)(1)).subscribe(()=>{var i;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){e.withParent((null===(i=o._dragInstances.find(s=>s.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:d,rootElementSelector:g,previewContainer:p}=e;this.disabled=null!=d&&d,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),g&&(this.rootElementSelector=g),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe((0,de.O)(this._handles),(0,An.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Rn.w)(e=>(0,Le.T)(...e.map(i=>i._stateChanges.pipe((0,de.O)(i))))),(0,Q.R)(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return o._dragInstances=[],o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(at,12),t.Y36(x.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(st,8),t.Y36(Be,8),t.Y36(_e),t.Y36(t.sBO),t.Y36(ct,10),t.Y36(rt,12))},o.\u0275dir=t.lG2({type:o,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(t.Suo(r,fi,5),t.Suo(r,lt,5),t.Suo(r,ct,5)),2&e){let s;t.iGM(s=t.CRH())&&(i._previewTemplate=s.first),t.iGM(s=t.CRH())&&(i._placeholderTemplate=s.first),t.iGM(s=t.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&t.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:rt,useExisting:o}]),t.TTD]}),o})(),xi=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[_e],imports:[ei]}),o})();var vi=h(9571);const Ci=["dialogDelete"],wi=["dialogEdit"];function ki(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",11),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}}function Mi(o,n){1&o&&t._UZ(0,"div",22)}function Oi(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t._UZ(3,"p"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e?null:e.topicNumber)}}const dt=function(o,n){return{item:o,index:n}};function Pi(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.NdJ("cdkDropListDropped",function(r){return t.CHM(e),t.oxw(3).drop(r)}),t.TgZ(2,"div",17),t.YNc(3,Mi,1,0,"div",18),t.TgZ(4,"button",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).onTopicGroupClick(s)}),t.YNc(5,Oi,4,1,"div",20),t.TgZ(6,"div",21),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=n.$implicit,i=n.index;t.xp6(1),t.Q6J("cdkDropListData",t.WLB(3,dt,e,i)),t.xp6(4),t.Q6J("ngIf",""===(null==e?null:e.topicNumber)),t.xp6(2),t.Oqu(null==e?null:e.name)}}function Ti(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",13,14),t.YNc(3,Pi,8,6,"ng-container",15),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.workTimeTopicGroup)}}function yi(o,n){1&o&&t._UZ(0,"div",22)}function Si(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.NdJ("cdkDropListDropped",function(r){return t.CHM(e),t.oxw(3).drop(r)}),t.TgZ(2,"div",17),t.YNc(3,yi,1,0,"div",18),t.TgZ(4,"button",24),t.TgZ(5,"div",23),t._uU(6),t.qZA(),t._UZ(7,"p"),t.TgZ(8,"div",21),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=n.$implicit,i=n.index;t.xp6(1),t.Q6J("cdkDropListData",t.WLB(3,dt,e,i)),t.xp6(5),t.Oqu(null==e?null:e.topicNumber),t.xp6(3),t.Oqu(null==e?null:e.name)}}function Di(o,n){if(1&o&&(t.TgZ(0,"div",13,14),t.YNc(2,Si,10,6,"ng-container",15),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.tempWorkTimeTopicAvaible)}}function Ei(o,n){if(1&o&&(t.YNc(0,Ti,4,1,"div",4),t.YNc(1,Di,3,1,"ng-template",null,12,t.W1O)),2&o){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.showGroupTopic)("ngIfElse",e)}}function Ii(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-time-worker-footer",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("isRefreshActive",!0)("isCustomGoBack",!0)("onRefresh",e.onRefreshCallback)("onGoBack",e.onBackCallback)}}function Ai(o,n){if(1&o){const e=t.EpF();t._UZ(0,"app-time-worker-footer",26),t.TgZ(1,"app-work-time-topic-add-dialog",27),t.NdJ("successInsert",function(){return t.CHM(e),t.oxw().isSuccessInsert()}),t.qZA()}if(2&o){const e=t.oxw(),i=t.MAs(4);t.Q6J("isAddActive",!0)("isDeleteActive",!0)("isUpDownNaviActive",!0)("isSaveActive",!0)("isRefreshActive",!0)("isCustomGoBack",!0)("onAdd",e.onAddCallback)("onDelete",e.onDeleteCallback)("onSave",e.onSaveCallback)("onRefresh",e.onRefreshCallback)("onEdit",e.onEditCallback)("isEditActive",!0)("onGoBack",e.onBackCallback)("saveButtonColor",e.saveButtonColor)("targetElementNavi",i),t.xp6(1),t.Q6J("onCancel",e.onCancelNewTopicCallback)("dialogVisible",e.showAddMode)("isTopicMode",e.isAddTopic)("topicGroup",e.workTimeTopicGroup)("topics",e.topics)("currentGroup",e.currentGroup)}}let Ri=(()=>{class o{constructor(e,i,r,s,a){this.workTimeTopicService=e,this.location=i,this.authService=r,this.rolePermissionService=s,this.bouncerStorageService=a,this.formatMessage=l.wv,this.isSave=!0,this.saveButtonColor="",this.showAddMode=!1,this.showGroupTopic=!0,this.showLoad=!1,this.isAddTopic=!1,this.showCardScanner=!1}ngOnInit(){this.userBindData(),this.bindFunction(),this.loadWorkCardTopics(),this.loadTopicCards()}userBindData(){this.userSession=this.authService.GetUserSession(),Number(this.userSession.role)===L.t.idKiosk&&(this.showCardScanner=!0)}bindFunction(){this.onAddCallback=this.onAdd.bind(this),this.onDeleteCallback=this.onDelete.bind(this),this.onEditCallback=this.onEdit.bind(this),this.onSaveCallback=this.onSave.bind(this),this.onRefreshCallback=this.onRefresh.bind(this),this.onBackCallback=this.onBack.bind(this),this.onCancelNewTopicCallback=this.onCancelNewTopic.bind(this)}loadWorkCardTopics(){this.showLoad=!0,this.bouncer=this.bouncerStorageService.get(),this.workTimeTopicService.getWorkCardTopicByBouncer(this.bouncer.idBouncer).subscribe(e=>{this.workTimeTopicGroup=e.sort((i,r)=>i.stepSequence-r.stepSequence),setTimeout(()=>{this.showLoad=!1},500)},e=>{(0,m.Z)((0,l.wv)("FailLoadDataFromServer"),"error",4e3),console.log(e),this.showLoad=!1})}loadTopicCards(){this.workTimeTopicService.getTopicCards(!0).subscribe(e=>{this.topics=e,console.log("all topic were downloaded")},e=>{(0,m.Z)((0,l.wv)("ErrorDownloadTopic"),"error",4e3),console.log(e)})}drop(e){let i=e.previousContainer.data.item,r=e.container.data.item;i!==r&&(this.isSave=!1,this.changeSaveButton()),this.showGroupTopic?(this.workTimeTopicGroup[e.previousContainer.data.index]=r,this.workTimeTopicGroup[e.container.data.index]=i):(this.tempWorkTimeTopicAvaible[e.previousContainer.data.index]=r,this.tempWorkTimeTopicAvaible[e.container.data.index]=i)}onTopicGroupClick(e){this.showGroupTopic=!1,this.isAddTopic=!0,this.currentGroup=e.id,this.tempWorkTimeTopicAvaible=e.availableTopicByGroups.sort((i,r)=>i.stepSequence-r.stepSequence)}onBackToGroupTopic(){this.showGroupTopic=!0,this.isAddTopic=!1,this.currentGroup=0,this.tempWorkTimeTopicAvaible=new Array}onAdd(){null!=this.topics?setTimeout(()=>{this.showAddMode=!0},50):(0,m.Z)((0,l.wv)("WarningNotDownloadingTopic"),"warning",4e3)}onDelete(){this.dialogDelete.onShow(this.showGroupTopic,this.showGroupTopic?this.workTimeTopicGroup:this.tempWorkTimeTopicAvaible)}onEdit(){null!=this.topics?this.dialogEdit.onShow(this.showGroupTopic,this.showGroupTopic?this.workTimeTopicGroup:this.tempWorkTimeTopicAvaible,this.topics):(0,m.Z)("Tematy nie za\u0142adowa\u0142y si\u0119 jeszcze","warning",2e3)}onSave(){this.isSave?(0,m.Z)((0,l.wv)("EmptySaveData"),"warning",4e3):(this.showLoad=!0,this.workTimeTopicGroup.forEach((e,i)=>{e.stepSequence=i,e.availableTopicByGroups.forEach((r,s)=>{r.stepSequence=s})}),this.workTimeTopicService.postSettingTopicGroups(this.workTimeTopicGroup).subscribe(()=>{this.showLoad=!1,(0,m.Z)((0,l.wv)("ChangeSaved"),"info",4e3),this.isSave=!0,this.changeSaveButton()},e=>{this.showLoad=!1,(0,m.Z)((0,l.wv)("ErrorSaved"),"error",4e3),console.log(e)}))}onCancelNewTopic(){this.showAddMode=!1}onBack(){this.showGroupTopic?this.location.back():this.onBackToGroupTopic()}onRefresh(){this.loadWorkCardTopics(),this.isSave=!0,this.changeSaveButton()}isSuccessInsert(){this.showAddMode=!1,this.showGroupTopic=!0,this.onRefresh()}isSuccessDelete(){this.showGroupTopic=!0,this.onRefresh()}changeSaveButton(){this.saveButtonColor=this.isSave?"":"btn-warning btn-war"}getScannedUser(e){this.rolePermissionService.getRolePermissionByRole(e.id).subscribe(r=>{r.some(s=>s.idPermission===se.U.SettingsWorkPanelEditGroupAndTopic)?this.showCardScanner=!1:(0,m.Z)((0,l.wv)("NoPermission"),"warning",3e3)},r=>{console.log(r)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.yE),t.Y36(x.Ye),t.Y36(u.e8),t.Y36(Xt.r),t.Y36(ye.r))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Ci,5),t.Gf(wi,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.dialogDelete=r.first),t.iGM(r=t.CRH())&&(i.dialogEdit=r.first)}},decls:16,vars:6,consts:[[1,"page"],["srcImage","./assets/images/navi/icons8-services-96.png",3,"title"],[1,"text-center","topic-panel"],["target",""],[4,"ngIf","ngIfElse"],["showSettings",""],["showRestPanel",""],[3,"successDelete"],["dialogDelete",""],["dialogEdit",""],[3,"show"],[3,"userRFID"],["showTopicPanel",""],["cdkDropListGroup","",1,"categories"],["contenedor",""],[4,"ngFor","ngForOf"],["cdkDropList","",1,"categories-item",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","",1,"inner"],["class","placeholder",4,"cdkDragPlaceholder"],["type","button",1,"btn","btn-panel",3,"click"],[4,"ngIf"],[1,"topic"],[1,"placeholder"],[1,"topic-number"],["type","button",1,"btn","btn-panel"],[3,"isRefreshActive","isCustomGoBack","onRefresh","onGoBack"],[3,"isAddActive","isDeleteActive","isUpDownNaviActive","isSaveActive","isRefreshActive","isCustomGoBack","onAdd","onDelete","onSave","onRefresh","onEdit","isEditActive","onGoBack","saveButtonColor","targetElementNavi"],[3,"onCancel","dialogVisible","isTopicMode","topicGroup","topics","currentGroup","successInsert"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2,3),t.YNc(5,ki,2,0,"div",4),t.YNc(6,Ei,3,2,"ng-template",null,5,t.W1O),t.qZA(),t.qZA(),t.YNc(8,Ii,2,4,"div",4),t.YNc(9,Ai,2,21,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(11,"app-work-time-settings-delete-group-and-topic",7,8),t.NdJ("successDelete",function(){return i.isSuccessDelete()}),t.qZA(),t._UZ(13,"app-time-worker-edit-settings",null,9),t._UZ(15,"app-load-panel",10)),2&e){const r=t.MAs(7),s=t.MAs(10);t.xp6(1),t.s9C("title",i.formatMessage("Settings")),t.xp6(4),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",s),t.xp6(7),t.Q6J("show",i.showLoad)}},directives:[P.H,k.N,x.O5,gn,pn.X,re.M,R.I,gi,x.sg,ui,bi,mi,T.z,vi.y],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}.topic-number[_ngcontent-%COMP%]{text-align:center}.categories[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin-left:20px;margin-right:20px}.inner[_ngcontent-%COMP%]{height:200px;width:360px;text-align:center;line-height:5rem;background-color:none;cursor:move}.categories-item[_ngcontent-%COMP%]{margin:5px;background-color:transparent;height:200px;width:360px;text-align:center;line-height:5rem}.placeholder[_ngcontent-%COMP%]{margin:5px;background:#d4d4d4;border:dotted 3px #333333;height:200px;width:360px;text-align:center;line-height:5rem}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.categories[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]   .categories-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}@media (max-width: 800px){.placeholder[_ngcontent-%COMP%], .categories-item[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%]{width:200px;text-align:center;height:160px}}@media only screen and (min-width: 380px) and (max-width: 440px){.placeholder[_ngcontent-%COMP%], .categories-item[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%]{width:160px;height:160px}}@media only screen and (min-width: 300px) and (max-width: 379px){.placeholder[_ngcontent-%COMP%], .categories-item[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%]{width:140px;min-height:140px}}"]}),o})();function Fi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-time-worker-card-reader",5),t.NdJ("userRFID",function(r){return t.CHM(e),t.oxw().getScannedUser(r)}),t.qZA(),t.qZA()}}function Li(o,n){if(1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t._uU(2),t._UZ(3,"p"),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.formatMessage("StartBreak")," "),t.xp6(2),t.AsE(" ",e.formatMessage("User"),": ",e.userSession.login," ")}}let Ni=(()=>{class o{constructor(e,i,r,s){this.authService=e,this.breakService=i,this.workTimeService=r,this.router=s,this.formatMessage=l.wv,this.showCardScanner=!1,this.isBlocked=!1}ngOnInit(){this.userSession=this.authService.GetUserSession(),this.getTopicBreak(),this.isKioskUser()&&(this.showCardScanner=!0)}isKioskUser(){return Number(this.userSession.role)===L.t.idKiosk}getTopicBreak(){this.breakService.getBreakTopicByDepartment(Number(this.userSession.idDepartment)).subscribe(e=>{if(this.breakTopic=e,console.log(e),console.log("Succesfull get list topics"),!this.isKioskUser()){const i={id:0,idUser:Number(this.userSession.id),login:this.userSession.login,idTopic:this.breakTopic.idTopic,startDate:(new Date).toISOString(),endDate:null};this.saveBreak(i,this.userSession.name)}},e=>{var i=(0,l.wv)(404===e.status?"BreakTopicIsEmpty":"CantLoadBreakTopi");(0,m.Z)(i,"error",4e3),this.naviToMainPanel(),console.log(e)})}naviToMainPanel(){setTimeout(()=>{this.isBlocked=!1,this.router.navi("/work-time")},1e3)}saveBreak(e,i){this.isBlocked||(this.isBlocked=!0,this.workTimeService.postInsertWorkCard(e).subscribe(()=>{(0,m.Z)(`${(0,l.wv)("InsertBreakSuccessfull")} ${(0,l.wv)("User")} ${i}`,"success",4e3),this.naviToMainPanel()},r=>{(0,m.Z)((0,l.wv)("InsertBreakError")),console.log(r),this.isBlocked=!1}))}getScannedUser(e){const i={id:0,idUser:e.id,login:e.login,idTopic:this.breakTopic.idTopic,startDate:(new Date).toISOString(),endDate:null};this.saveBreak(i,e.name)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.e8),t.Y36(z.rf),t.Y36(z.gT),t.Y36(N.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:8,vars:3,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-cafe-96.png",3,"title"],[1,"text-center","topic-panel"],[4,"ngIf","ngIfElse"],["showBreak",""],[3,"userRFID"],[1,"base-card","info-card","unclickable"],[1,"card-text","text-center"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t.YNc(4,Fi,2,0,"div",3),t.YNc(5,Li,5,3,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t._UZ(7,"app-time-worker-footer"),t.qZA()),2&e){const r=t.MAs(6);t.xp6(1),t.s9C("title",i.formatMessage("Break")),t.xp6(3),t.Q6J("ngIf",i.showCardScanner)("ngIfElse",r)}},directives:[P.H,k.N,x.O5,T.z,R.I],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})();const ht=oe.P.defaultServerPath+"api/WorkTimeActualWork/";let zi=(()=>{class o{constructor(e){this.http=e}getAll(){return this.http.get(ht)}getByBouncer(e){return this.http.get(ht+e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(V.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Wi=h(5925);const Ui=[{path:"time-worker-start-work",component:St,canActivate:[u.PP]},{path:"time-worker-manual",component:At,canActivate:[u.PP,u.EW]},{path:"app-time-worker-manual-awm",component:Wt,canActivate:[u.PP,u.EW]},{path:"app-time-worker-history",component:Me,canActivate:[u.PP,u.EW]},{path:"time-worker-preview-leave-workstation",component:Ut,canActivate:[u.PP,u.EW]},{path:"time-worker-leave-workstation",component:jt,canActivate:[u.PP,u.EW]},{path:"app-time-worker-preview-break",component:Kt,canActivate:[u.PP,u.EW]},{path:"app-time-worker-finish-work",component:$t,canActivate:[u.PP,u.EW]},{path:"app-time-worker-break",component:Ni,canActivate:[u.PP,u.EW]},{path:"app-time-worker-settings",component:Ri,canActivate:[u.PP,u.EW]},{path:"app-time-worker-actual-work",component:(()=>{class o{constructor(e,i,r){this.actualWorkService=e,this.bouncerStorage=i,this.permissionStorage=r,this.formatMessage=l.wv}ngOnInit(){this.onRefreshCallback=this.onRefreshData.bind(this),this.bouncer=this.bouncerStorage.get(),this.columns=this.initColumns(),this.getActualWorks(this.bouncer.idBouncer)}initColumns(){return class Zi{constructor(){this.formatMessage=l.wv}static getColumn(n){let e=[];return e.push({dataField:"userName",caption:(0,l.wv)("Employee"),dataType:"string"}),n.checkPermission(se.U.ActualWorkDMS)&&e.push({dataField:"idDocument",caption:(0,l.wv)("DocumentNumber"),dataType:"string"}),e.push({dataField:"topicNumber",caption:(0,l.wv)("TopicNumber"),dataType:"string"}),e.push({dataField:"topicDescription",caption:(0,l.wv)("Description"),dataType:"string"}),e.push({dataField:"startDate",caption:(0,l.wv)("From"),dataType:"datetime"}),e.push({dataField:"time",caption:(0,l.wv)("Time"),dataType:"string"}),n.checkPermission(se.U.ActualWorkDMS)&&e.push({dataField:"action",caption:(0,l.wv)("Action"),dataType:"string"}),this.columns=e,this.columns}}.getColumn(this.permissionStorage)}getActualWorks(e){this.actualWorkService.getByBouncer(e).subscribe(i=>{this.actualWorks=i},i=>{console.error(i)})}onRefreshData(){this.getActualWorks(this.bouncer.idBouncer)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(zi),t.Y36(ye.r),t.Y36(Wi.L))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:6,vars:5,consts:[[1,"page"],["srcImage","../../../assets/images/navi/icons8-timesheet-96.png",3,"title"],[1,"base-card","background-card","unclickable"],[3,"dataSource","columns"],[3,"onRefresh","isRefreshActive"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-work-time-child-panel",1),t.TgZ(2,"dx-scroll-view"),t.TgZ(3,"div",2),t._UZ(4,"app-work-time-grid-template",3),t.qZA(),t.qZA(),t._UZ(5,"app-time-worker-footer",4),t.qZA()),2&e&&(t.xp6(1),t.s9C("title",i.formatMessage("ActualWork")),t.xp6(3),t.Q6J("dataSource",i.actualWorks)("columns",i.columns),t.xp6(1),t.Q6J("onRefresh",i.onRefreshCallback)("isRefreshActive",!0))},directives:[P.H,k.N,J.w,T.z],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{border-radius:5px;border:none;width:auto;height:50%;padding:10px;background:white;box-shadow:0 8px 15px #666;margin:10px}hr[_ngcontent-%COMP%]{size:2;border-radius:2;width:99%}button[_ngcontent-%COMP%], dx-button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}dx-button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}dx-button[_ngcontent-%COMP%]:focus{background:#337ab7;color:#fff;border:none;outline:none!important}#button-home[_ngcontent-%COMP%]{text-align:right;margin-right:1%;margin-top:40px}.unclickable[_ngcontent-%COMP%]{box-shadow:0 0 5px -2px #000!important;background-color:#fff!important;color:#000000de!important}.unclickable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(75%)}.page[_ngcontent-%COMP%]{height:100%}.panel[_ngcontent-%COMP%]{height:98%;margin:0}.navi[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;text-align:center;margin-bottom:10px;width:auto;height:auto;padding:15px;top:0;z-index:999;overflow-x:auto;overflow-y:hidden;white-space:nowrap}.navi-footer[_ngcontent-%COMP%]{background-color:#f7f7f7;position:sticky;margin-bottom:10px;width:100%;height:100%;padding:10px;left:0;bottom:0;z-index:998}.topic-panel[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}dx-icon[_ngcontent-%COMP%]{font-size:30px;width:auto;height:auto;line-height:normal}dx-scroll-view[_ngcontent-%COMP%]{height:auto}#iconIm[_ngcontent-%COMP%]{width:32px}.topic-number[_ngcontent-%COMP%]{font-size:14px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:21px;margin-bottom:10px}.base-card[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;align-items:center;box-shadow:0 8px 15px #666}.card[_ngcontent-%COMP%]{min-width:400px;max-width:600px;height:68px;line-height:1.6em;margin:10px;display:inline-block}.title-card[_ngcontent-%COMP%]{position:relative;float:left;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1.6em;font-size:21px;overflow-wrap:break-word;white-space:break-spaces}dx-button[_ngcontent-%COMP%]{font-size:18px;line-height:1.6em;padding:5px;max-width:250px;height:auto;margin:10px;-webkit-hyphens:auto;hyphens:auto;white-space:normal}button[_ngcontent-%COMP%]{border-radius:5px;border:none;background:#337ab7;color:#fff;box-shadow:0 8px 15px #666}.btn-nav[_ngcontent-%COMP%]{height:68px;min-width:68px;max-width:450px;line-height:1.6em;margin:10px}.btn-panel[_ngcontent-%COMP%]{width:300px;max-width:450px;min-height:160px;margin:20px;padding:10px;line-height:1.6em;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word}.btn-succ[_ngcontent-%COMP%]{background:#5cb85c}.btn-dang[_ngcontent-%COMP%]{background:#d9534f}.btn-war[_ngcontent-%COMP%]{background:#f0ad4e}.btn-second[_ngcontent-%COMP%]{background:#919191}.btn-inf[_ngcontent-%COMP%]{background:#39c0ed}button[_ngcontent-%COMP%]:hover{background:#296293;color:#fff;border:none}button[_ngcontent-%COMP%]:active{background:#193d5b;color:#fff;border:none}.btn-succ[_ngcontent-%COMP%]:hover{background:#4aab4a}.btn-dang[_ngcontent-%COMP%]:hover{background:#d43a36}.btn-war[_ngcontent-%COMP%]:hover{background:#eea032}.btn-second[_ngcontent-%COMP%]:hover{background:#828282}.btn-inf[_ngcontent-%COMP%]:hover{background:#1db7ea}.btn-succ[_ngcontent-%COMP%]:active{background:#3d8b3d}.btn-dang[_ngcontent-%COMP%]:active{background:#b52b27}.btn-war[_ngcontent-%COMP%]:active{background:#df8a13}.btn-second[_ngcontent-%COMP%]:active{background:#6b6b6b}.btn-inf[_ngcontent-%COMP%]:active{background:#129ac7}.btn[_ngcontent-%COMP%]:focus, .btn[_ngcontent-%COMP%]:active:focus, .btn.active[_ngcontent-%COMP%]:focus, .btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active.focus, .btn.active.focus[_ngcontent-%COMP%]{outline:none!important}.card-text[_ngcontent-%COMP%]{font-size:21px}.alert[_ngcontent-%COMP%]{font-size:18px}.info-card[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-top:100px;padding:60px;min-width:550px;width:auto;height:auto}.alert[_ngcontent-%COMP%]{max-width:500px}.background-card[_ngcontent-%COMP%]{margin:10px 20px;background-color:#fff;width:auto;height:auto}#gridContainer[_ngcontent-%COMP%]{max-height:520px;min-height:400px}.options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background-color:#bfbfbf26;position:relative}.caption[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.option-container[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.option[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center}.option-caption[_ngcontent-%COMP%]{white-space:nowrap;margin:0 8px}@media (max-width: 570px){.info-card[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;min-width:auto}.background-card[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;padding:10px;min-width:auto}.card[_ngcontent-%COMP%]{min-width:200px;width:auto;max-width:400px}}@media (max-width: 800px){.btn-panel[_ngcontent-%COMP%]{min-width:160px;width:180px}.topic-number[_ngcontent-%COMP%]{font-size:12px;text-align:center;vertical-align:text-top;align-items:flex-start}.topic[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}}@media only screen and (min-width: 380px) and (max-width: 440px){.btn-panel[_ngcontent-%COMP%]{min-width:140px;width:140px}.btn-panel[_ngcontent-%COMP%]{min-height:140px}}@media only screen and (min-width: 300px) and (max-width: 379px){.btn-panel[_ngcontent-%COMP%]{min-width:120px;width:120px}.btn-panel[_ngcontent-%COMP%]{min-height:120px}}@media all and (display-mode: fullscreen){dx-scroll-view[_ngcontent-%COMP%]{min-height:650px}}"]}),o})(),canActivate:[u.PP,u.EW]}];let Vi=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[q.Bz.forChild(Ui)],q.Bz]}),o})();var Hi=h(8744),gt=h(5697),Gi=h(9033),ie=h(2313),ji=h(4136);const Yi={provide:y.JU,useExisting:(0,t.Gpc)(()=>Ki),multi:!0};let Ki=(()=>{class o extends f.Ay{constructor(e,i,r,s,a,c,d,g){super(e,i,r,s,d,g),this._watcherHelper=s,this._idh=a,this.touched=p=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"enableThreeStateBehaviorChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconSizeChange"},{emit:"isValidChange"},{emit:"nameChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),c.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get enableThreeStateBehavior(){return this._getOption("enableThreeStateBehavior")}set enableThreeStateBehavior(e){this._setOption("enableThreeStateBehavior",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get iconSize(){return this._getOption("iconSize")}set iconSize(e){this._setOption("iconSize",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get text(){return this._getOption("text")}set text(e){this._setOption("text",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}_createInstance(e,i){return new ji.Z(e,i)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",i=>{this.eventHelper.fireNgEvent("onBlur",[i])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("validationErrors",e)}setupChanges(e,i){e in this._optionsToUpdate||this._idh.setup(e,i)}ngDoCheck(){this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,i){let r=this._idh.setupSingle(e,i),s=null!==this._idh.getChanges(e,i);(r||s)&&super._setOption(e,i)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(f._5),t.Y36(f._h),t.Y36(f.i9),t.Y36(f.al),t.Y36(ie.ki),t.Y36(t.Lbi))},o.\u0275cmp=t.Xpm({type:o,selectors:[["dx-check-box"]],hostBindings:function(e,i){1&e&&t.NdJ("valueChange",function(s){return i.change(s)})("onBlur",function(s){return i.touched(s)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",enableThreeStateBehavior:"enableThreeStateBehavior",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",iconSize:"iconSize",isValid:"isValid",name:"name",readOnly:"readOnly",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",text:"text",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",enableThreeStateBehaviorChange:"enableThreeStateBehaviorChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconSizeChange:"iconSizeChange",isValidChange:"isValidChange",nameChange:"nameChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",textChange:"textChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[t._Bn([f._5,f._h,Yi,f.al,f.i9]),t.qOj,t.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),o})(),qi=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Lz,f.ie,ie.Cu],f.ie]}),o})();var Ji=h(2599),Qi=h(4494),$i=h(8874);h(8236);let eo=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[S.Q8p,f.Lz,f.ie,ie.Cu],S.Q8p,f.ie]}),o})();var to=h(1597),no=h(121),io=h(2284),D=h(3022),oo=h(5126),pt=h(7763);let ro=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[x.ez,pt.p,ae.C,pt.p,y.u5]]}),o})();var so=h(7512);let ao=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[x.ez,gt.e,ae.C,ce.x,k.r,S.wrG]]}),o})(),co=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[x.ez,Vi,ce.x,Hi.A,gt.e,D.TT,D.M2,k.r,Gi.a,y.u5,qi,Ji.D,D.p4,D.ve,oo.f,xi,ro,so.t,D.Hy,D.Zt,Qi.u,$i.B,eo,to._,D.wY,D.gj,ao,D.RT,no.S,io.k]]}),o})();t.B6R(Me,[P.H,k.N,x.O5,R.I,J.w,T.z],[])}}]);